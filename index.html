<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Nellore Rice Club</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background: #000;
  color: #fff;
  padding: 20px;
  text-align: center;
}
h1 {
  font-family: 'Cinzel', serif;
  font-size: 2.3rem;
  background: linear-gradient(90deg,#ffcc00,#ffd700,#ffcc00);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shine 3s linear infinite;
}
@keyframes shine {
  0% { background-position: 0% }
  100% { background-position: 200% }
}
.form-container {
  background: #1a1a1a;
  max-width: 500px;
  margin: auto;
  padding: 25px;
  border-radius: 15px;
  box-shadow: 0 0 15px #ffffff40;
  text-align: left;
}
label { margin-top: 15px; display: block; font-weight: bold; }
input, select {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  background: #000;
  color: #fff;
  border: 1px solid #ffd700;
  border-radius: 5px;
}
.price-box {
  display: none;
  margin-top: 20px;
  padding: 15px;
  text-align: center;
  font-size: 1.4rem;
  border: 2px solid #ffd700;
  border-radius: 15px;
  color: #ffd700;
}
.submit-btn {
  margin-top: 20px;
  padding: 14px;
  width: 100%;
  font-size: 18px;
  background: linear-gradient(90deg,#b8860b,#ffd700);
  border: none;
  border-radius: 12px;
  font-weight: bold;
}
.submit-btn:disabled {
  background: #555;
}
.tick-area {
  margin-top: 20px;
  display: flex;
  gap: 10px;
  font-size: 14px;
}
</style>
</head>

<body>

<h1>Nellore Rice Club</h1>

<div class="form-container">
<form id="orderForm">

<label>Full Name*</label>
<input type="text" name="Full Name" required>

<label>Phone Number*</label>
<input type="tel" name="Phone Number" pattern="[0-9]{10}" required>

<label>Select Type Of Rice*</label>
<select name="Type Of Rice" id="riceType" required>
  <option value="" disabled selected>Select</option>
  <option value="Pedda Jilakara">Pedda Jilakara</option>
  <option value="Nellore Jilakara">Nellore Jilakara</option>
  <option value="Sannalu">Sannalu</option>
  <option value="Half Boiled">Half Boiled</option>
</select>

<label>Select Number Of Bags*</label>
<select name="No Of Bags" id="bagCount" required>
  <option value="" disabled selected>Select</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
</select>

<label>Area Name*</label>
<input type="text" name="Area Name" required>

<!-- PRICE DISPLAY -->
<div class="price-box" id="priceBox">
  <div id="priceDisplay"></div>
</div>

<!-- hidden fields -->
<input type="hidden" name="Total Price" id="totalPrice">
<input type="hidden" name="Latitude">
<input type="hidden" name="Longitude">

<div class="tick-area">
  <input type="checkbox" id="tickBox">
  <label>I confirm all details are correct</label>
</div>

<button type="submit" id="submitBtn" class="submit-btn" disabled>Submit</button>

</form>
</div>

<script>
const ricePrices = {
  "Pedda Jilakara": 1300,
  "Nellore Jilakara": 1200,
  "Sannalu": 1100,
  "Half Boiled": 1000
};

const riceType = document.getElementById("riceType");
const bagCount = document.getElementById("bagCount");
const priceBox = document.getElementById("priceBox");
const priceDisplay = document.getElementById("priceDisplay");
const totalPriceInput = document.getElementById("totalPrice");
const tickBox = document.getElementById("tickBox");
const submitBtn = document.getElementById("submitBtn");
const form = document.getElementById("orderForm");

function updatePrice() {
  const rice = riceType.value;
  const bags = parseInt(bagCount.value);

  if (rice && bags) {
    const total = ricePrices[rice] * bags;
    priceBox.style.display = "block";
    priceDisplay.textContent = â‚¹${total} Rupees Only;
    totalPriceInput.value = total;
  } else {
    priceBox.style.display = "none";
    totalPriceInput.value = "";
  }
}

riceType.addEventListener("change", updatePrice);
bagCount.addEventListener("change", updatePrice);

tickBox.addEventListener("change", () => {
  submitBtn.disabled = !tickBox.checked;
});

form.addEventListener("submit", function(e) {
  e.preventDefault();

  navigator.geolocation.getCurrentPosition(position => {
    form.Latitude.value = position.coords.latitude;
    form.Longitude.value = position.coords.longitude;

    const formData = new FormData(form);
    formData.append("Ordered Date", new Date().toLocaleString());

    fetch("https://script.google.com/macros/s/AKfycbwRuBysykYCV6CaK2nP8GojI1THk1gjTRR43fhISZxxspYx1E8wuzPiYx16Hnkm8dZt/exec", {
      method: "POST",
      body: formData
    })
    .then(res => {
      alert("ORDER SUBMITTED SUCCESSFULLY!");
      form.reset();
      priceBox.style.display = "none";
      submitBtn.disabled = true;
    })
    .catch(() => alert("Submission failed"));
  });
});
</script>

</body>
</html>
